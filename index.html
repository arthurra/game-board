<!DOCTYPE html>
<html>
<head>
<title>Catan</title>
<style>
.game-board {
  width: 100vw;
  height: 100vh;
}
.game-board > svg {
  max-width: 100%;
  max-height: 100%;
}
.tile {
  fill: #fff;
  stroke: #000;
  stroke-width: 3;
}
.tile--wood {
  fill: ForestGreen;
}
.tile--sheep {
  fill: LimeGreen;
}
.tile--wheat {
  fill: gold;
}
.tile--brick {
  fill: FireBrick;
}
.tile--ore {
  fill: SlateGray;
}
.tile--desert {
  fill: khaki;
}
</style>
</head>
<body>

<div class="game-board">
  <svg id="classic-hex-board" xmlns="http://www.w3.org/2000/svg" width="1949.56" height="1801.15" viewBox="0 0 1949.56 1801.15">
  <title>classic-catan-board</title>
  <polygon id="tile-0" class="tile" points="585.07 0.58 779.92 113.08 779.92 338.08 585.07 450.58 390.21 338.08 390.21 113.08 585.07 0.58"/>
  <polygon id="tile-1" class="tile" points="974.78 0.58 1169.63 113.08 1169.63 338.08 974.78 450.58 779.92 338.08 779.92 113.08 974.78 0.58"/>
  <polygon id="tile-2" class="tile" points="1364.49 0.58 1559.35 113.08 1559.35 338.08 1364.49 450.58 1169.63 338.08 1169.63 113.08 1364.49 0.58"/>
  <polygon id="tile-3" class="tile" points="1559.35 338.08 1754.2 450.58 1754.2 675.58 1559.35 788.08 1364.49 675.58 1364.49 450.58 1559.35 338.08"/>
  <polygon id="tile-4" class="tile" points="1754.2 675.58 1949.06 788.08 1949.06 1013.08 1754.2 1125.58 1559.35 1013.08 1559.35 788.08 1754.2 675.58"/>
  <polygon id="tile-5" class="tile" points="390.21 338.08 585.07 450.58 585.07 675.58 390.21 788.08 195.36 675.58 195.36 450.58 390.21 338.08"/>
  <polygon id="tile-6" class="tile" points="779.92 338.08 974.78 450.58 974.78 675.58 779.92 788.08 585.07 675.58 585.07 450.58 779.92 338.08"/>
  <polygon id="tile-7" class="tile" points="1169.63 338.08 1364.49 450.58 1364.49 675.58 1169.63 788.08 974.78 675.58 974.78 450.58 1169.63 338.08"/>
  <polygon id="tile-8" class="tile" points="1364.49 675.58 1559.35 788.08 1559.35 1013.08 1364.49 1125.58 1169.63 1013.08 1169.63 788.08 1364.49 675.58"/>
  <polygon id="tile-9" class="tile" points="195.36 675.58 390.21 788.08 390.21 1013.08 195.36 1125.58 0.5 1013.08 0.5 788.08 195.36 675.58"/>
  <polygon id="tile-10" class="tile" points="585.07 675.58 779.92 788.08 779.92 1013.08 585.07 1125.58 390.21 1013.08 390.21 788.08 585.07 675.58"/>
  <polygon id="tile-11" class="tile" points="974.78 675.58 1169.63 788.08 1169.63 1013.08 974.78 1125.58 779.92 1013.08 779.92 788.08 974.78 675.58"/>
  <polygon id="tile-12" class="tile" points="1364.49 1800.58 1169.63 1688.08 1169.63 1463.08 1364.49 1350.58 1559.35 1463.08 1559.35 1688.08 1364.49 1800.58"/>
  <polygon id="tile-13" class="tile" points="974.78 1800.58 779.92 1688.08 779.92 1463.08 974.78 1350.58 1169.63 1463.08 1169.63 1688.08 974.78 1800.58"/>
  <polygon id="tile-14" class="tile" points="585.07 1800.58 390.21 1688.08 390.21 1463.08 585.07 1350.58 779.92 1463.08 779.92 1688.08 585.07 1800.58"/>
  <polygon id="tile-15" class="tile" points="390.21 1463.08 195.36 1350.58 195.36 1125.58 390.21 1013.08 585.07 1125.58 585.07 1350.58 390.21 1463.08"/>
  <polygon id="tile-16" class="tile" points="1559.35 1463.08 1364.49 1350.58 1364.49 1125.58 1559.35 1013.08 1754.2 1125.58 1754.2 1350.58 1559.35 1463.08"/>
  <polygon id="tile-16" class="tile" points="1169.63 1463.08 974.78 1350.58 974.78 1125.58 1169.63 1013.08 1364.49 1125.58 1364.49 1350.58 1169.63 1463.08"/>
  <polygon id="tile-17" class="tile" points="779.92 1463.08 585.07 1350.58 585.07 1125.58 779.92 1013.08 974.78 1125.58 974.78 1350.58 779.92 1463.08"/>
</svg>

</div>
</body>
<script>
// Resource tiles
// 4 wood, 4 sheep, 3 brick, 3 wheat, 3 ore, 1 desert

'use strict';

window.onload = function () {

  // Resource types
  var resourceTypes = ['wood', 'sheep', 'brick', 'wheat', 'ore', 'desert'];

  // Amount of each resource
  var woodAmount = 4;
  var sheepAmount = 4;
  var wheatAmount = 4;
  var brickAmount = 3;
  var oreAmount = 3;
  var desertAmount = 1;

  // Resources object
  var resourceTiles = {
    wood: { amount: woodAmount },
    sheep: { amount: sheepAmount },
    wheat: { amount: wheatAmount },
    brick: { amount: brickAmount },
    ore: { amount: oreAmount },
    desert: { amount: desertAmount }
  };

  // Return a node list of the svg elements
  var tiles = document.querySelectorAll('.tile');

  // Array of available resources
  var availableResources = [];

  // Build a list of available resources
  var updateAvalaibleResources = function updateAvalaibleResources() {
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = Object.keys(resourceTiles)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var key = _step.value;

        if (resourceTiles[key].amount > 0) {
          availableResources.push('' + key);
        } else if (resourceTiles[key].amount == 0) {
          var emptyResource = availableResources.indexOf('' + key);
          if (emptyResource != -1) {
            availableResources.splice(emptyResource, 1);
          };
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator['return']) {
          _iterator['return']();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  };updateAvalaibleResources();

  // Loop over the tiles and add resource name
  var addRandomResource = function addRandomResource() {
    tiles.forEach(function (tile) {

      var randomResourceName = availableResources[Math.floor(Math.random() * availableResources.length)];

      tile.classList += " " + "tile--" + randomResourceName;
      resourceTiles[randomResourceName].amount--;

      console.log(tile.id + " " + "is" + " " + tile.classList);
      console.log(randomResourceName + " tiles left = " + resourceTiles[randomResourceName].amount);

      // Drop the current list of available resources
      availableResources = [];

      // Rebuild the current list of available resources
      updateAvalaibleResources();
    });
  };addRandomResource();

  // Print out all of the business
  console.log("Number of tiles =" + " " + tiles.length);
  console.log("Number of resource types =" + " " + resourceTypes.length);
  console.log("Number of wood tiles =" + " " + resourceTiles.wood.amount);
  console.log("Number of sheep tiles =" + " " + resourceTiles.sheep.amount);
  console.log("Number of wheat tiles =" + " " + resourceTiles.wheat.amount);
  console.log("Number of brick tiles =" + " " + resourceTiles.brick.amount);
  console.log("Number of ore tiles =" + " " + resourceTiles.ore.amount);
  console.log("Number of desert tiles =" + " " + resourceTiles.desert.amount);
};
</script>
</html>
